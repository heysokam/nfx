#:___________________________________________________
#  nfx  |  Copyright (C) Ivan Mar (sOkam!)  |  MIT  :
#:___________________________________________________
import nfx
import ./helpers

#_______________________________________
test &"{nfxPrefix} Tools: Test Helpers":
  #_____________________________
  # String type conversion
  # └ Int Literal  (64bit implicit)
  check  -1.getBin() == "0b_1111_1111_1111_1111_1111_1111_1111_1111_1111_1111_1111_1111_1111_1111_1111_1111"
  check   0.getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000"
  check   1.getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001"
  check   2.getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010"
  check   4.getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0100"
  check   8.getHex() == "0x_00_00_00_00_00_00_00_08"
  check  10.getHex() == "0x_00_00_00_00_00_00_00_0A"
  check  15.getHex() == "0x_00_00_00_00_00_00_00_0F"
  check 240.getHex() == "0x_00_00_00_00_00_00_00_F0"
  # └ Int32
  check int32( -1).getBin() == "0b_1111_1111_1111_1111_1111_1111_1111_1111"
  check int32(  0).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000"
  check int32(  1).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0001"
  check int32(  2).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0010"
  check int32(  4).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0100"
  check int32(  8).getHex() == "0x_00_00_00_08"
  check int32( 10).getHex() == "0x_00_00_00_0A"
  check int32( 15).getHex() == "0x_00_00_00_0F"
  check int32(240).getHex() == "0x_00_00_00_F0"
  # └ Float
  check              0.0.getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000"
  check   cast[float](1).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001"
  check   cast[float](2).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010"
  check   cast[float](4).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0100"
  check cast[float32](1).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0001"
  check cast[float32](2).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0010"
  check cast[float32](4).getBin() == "0b_0000_0000_0000_0000_0000_0000_0000_0100"
  #_____________________________
  # compare(a,b)
  check compare(42, int(42.0))

